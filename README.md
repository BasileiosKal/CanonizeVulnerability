# **Canonicalization Vulnerability**

Three examples of using the canonical blank node labels, produced by the URDNA2015 algorithm,
to get information regarding the non-disclosed messages in a Verifiable Credential.  

The examples use a slightly reformed version of the [URDNA2015 algorithm](https://github.com/digitalbazaar/rdf-canonize), that also returns the
reference sets of each blank node along with the final canonicalization result.

To sign, validate and derive a proof of knowledge for each credential, the 
[jsonld-signatures-bbs](https://github.com/mattrglobal/jsonld-signatures-bbs)
library is used implemented by [Mattr](https://github.com/mattrglobal).

## Usage
You can run each example by either using the docker image, or by installing the 
dependencies locally with yarn.

### **1. With Docker**

From inside each example folder, first, build the docker image by running,

`> docker build --tag example . `

To run the example use,

`> docker run example`

or

`> docker run --rm example`

to automatically remove the created container afterwards.

### **2. With Yarn**
Again from inside each example folder, install all dependencies with,

`> yarn install --frozen-lockfile`

Then, to generate the derived credential using selective disclosure 
(the one the Verifier will receive), run,

`> yarn generate`

Then, to read that crendential and search the hidden values, run,

`> yarn search`