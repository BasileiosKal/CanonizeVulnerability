# syntax=docker/dockerfile:1

FROM node:12.18.1

ENV NODE_ENV=production

WORKDIR /app

COPY "package.json" "./"
COPY "tsconfig.json" "./"
COPY "yarn.lock" "./"

RUN yarn install --frozen-lockfile

COPY . .

ADD scripts/run.sh /
RUN chmod +x scripts/run.sh

CMD [ "scripts/run.sh" ]